<div [style.height]="height" class="perspective-block">
  <div [style.height]="higherBy(height, 300)" class="perspective">
    <!--Add new document-->
    <div class="post-it-block" *ngIf="editable">
      <div class="post-it new-document">
        <!-- icon and name -->
        <div class="header">
          <span class="icon">
            <i class="fa fa-fw {{ collection.icon }}"></i>
          </span>
          <span class="name">{{ collection.name }}</span>
          <!-- Edit button -->
          <span class="editable">
            <i #edit class="fa fa-pencil" aria-hidden="true" [style.padding-left]="'4px'"></i>
          </span>
        </div>

        <!-- attributes -->
        <div class="content">
          <input type="text" placeholder="New Attribute"/>
          <div class="delimiter"></div>
          <div class="plus">
            <i class="fa fa-plus-circle" aria-hidden="true"></i>
          </div>
        </div>

        <!-- additional buttons -->
        <div class="edit">
          <span class="primary-edit">
            <i class="fa fa-search" aria-hidden="true"></i>
          </span>

          <span class="secondary-edit">
            <i class="fa fa-sign-in" aria-hidden="true"></i>
            <i class="fa fa-sign-out" aria-hidden="true"></i>
            <i class="fa fa-history" aria-hidden="true"></i>
            <i class="fa fa-users" aria-hidden="true"></i>
          </span>
        </div>
      </div>
    </div>

    <!--Document post-its-->
    <div class="post-it-block" [@appear]="''" *ngFor="let document of documents; let idx = index">
      <div #postItDocument class="post-it" (click)="documentClick(idx)">
        <!-- icon and name -->
        <div class="header">
          <span class="icon" title="{{ collection.name }}">
            <i class="fa fa-fw {{ collection.icon }}" [style.color]="collection.color"></i>
          </span>
          <span class="name">{{ collection.name }}</span>
          <!-- Edit / delete button -->
          <span class="editable" *ngIf="editable">
            <a><i class="fa fa-times remove" title="Remove Document" aria-hidden="true"
                  [style.color]="document.edited ? 'red' : 'transparent' "
                  [style.z-index]="document.edited ? '3' : '-1' "
                  (click)="removeDocument(idx)"></i></a>
            <span class="delimiter"
                  [style.color]="document.edited ? 'white' : 'transparent' "
                  [style.z-index]="document.edited ? '2' : '-1' ">|</span>
            <a><i #edit class="fa fa-pencil ripple" title="Edit Document" aria-hidden="true"
                  [style.background]="editBackground(document)"
                  [style.padding-left]="document.edited ? '30px' : '4px'"
                  (mouseenter)="document.underCursor = true"
                  (mouseleave)="document.underCursor = false"
                  (click)="editDocument(document)"></i></a>
          </span>
        </div>

        <!-- attributes -->
        <div class="content">
          <attribute-tree [children]="document.attributes"
                          [editable]="editable"
                          (change)="log($event)"></attribute-tree>
        </div>

        <!-- additional buttons -->
        <div class="edit">
          <span class="primary-edit">
            <a><i class="fa fa-search" aria-hidden="true" title="Details"></i></a>
          </span>

          <span class="secondary-edit">
            <a><i class="fa fa-sign-in" aria-hidden="true" title="Incoming Links"></i></a>
            <a><i class="fa fa-sign-out" aria-hidden="true" title="Outgoing Links"></i></a>
            <a><i class="fa fa-history" aria-hidden="true" title="History"></i></a>
            <a><i class="fa fa-users" aria-hidden="true" title="User Rights"></i></a>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<a (click)="increaseBlockHeight()" class="load-more">See More<i class="fa fa-chevron-down" aria-hidden="true"></i></a>
