<div>
  <h2>Organizations</h2>
  <div class="horizontal-chooser">

    <div class="slide">
      <a class="fa fa-chevron-left" (click)="onScrollOrganizations(-1)"></a>
    </div>

    <perfect-scrollbar class="chooser"  [config]="{suppressScrollY: true}" #organizationScrollbar>
      <div class="squares" [ngStyle]="{width: organizationsWidth + 'px'}">

        <div class="square" (click)="onCreateOrganization()">
          <div class="square-icon-full">
            <i class="fa fa-plus" aria-hidden="true"></i>
          </div>
        </div>

        <div class="square" *ngFor="let organization of organizations; let i = index"
             (click)="onOrganizationSelected(organization, i)"
             [style.border-color]="organization.active ? organization.color : ''"
             [style.color]="organization.color">
          <i class="fa fa-cog square-settings"
             (click)="$event.stopPropagation(); onOrganizationSettings(organization)"></i>
          <div class="square-icon">
            <i class="fa {{ organization.icon }}"></i>
          </div>
          <span class="square-code">{{organization.code}}</span>
          <span class="square-name">{{organization.name}}</span>
        </div>

      </div>

      <div class="pointer" [ngStyle]="{width: organizationsWidth + 'px'}" *ngIf="activeOrganization">
        <div [ngStyle]="{width: 170 * (activeOrganization.index +1 )+ 60 + 'px'}"></div><!--
        --><div class="arrow-start"></div><!--
        --><div class="arrow-end"></div><!--
        --><div [ngStyle]="{width: 170 * (organizations.length - activeOrganization.index) - 120 + 'px'}"></div>
      </div>
    </perfect-scrollbar>

    <div class="slide">
      <a class="fa fa-chevron-right" (click)="onScrollOrganizations(1)"></a>
    </div>

  </div>
</div>

<div *ngIf="activeOrganization">
  <h2>Projects</h2>
  <div class="horizontal-chooser">

    <div class="slide">
      <a (click)="onScrollProjects(-1)"><i class="fa fa-chevron-left"></i></a>
    </div>

    <perfect-scrollbar class="chooser" #projectScrollbar [config]="{suppressScrollY: true}">
      <div class="squares" [ngStyle]="{width: projectsWidth + 'px'}">

        <div class="square" (click)="onCreateProject()">
          <div class="square-icon-full">
            <i class="fa fa-plus" aria-hidden="true"></i>
          </div>
        </div>

        <div class="square" *ngFor="let project of activeOrganization.projects; let i = index"
             (click)="onProjectSelected(project, i)"
             [style.border-color]="project.active ? project.color : ''"
             [style.color]="project.color">
          <i class="fa fa-cog square-settings"
             (click)="$event.stopPropagation(); onProjectSettings(project)"></i>
          <div class="square-icon">
            <i class="fa {{ project.icon }}"></i>
          </div>
          <span class="square-code">{{project.code}}</span>
          <span class="square-name">{{project.name}}</span>
        </div>

      </div>
    </perfect-scrollbar>

    <div class="slide">
      <a (click)="onScrollProjects(1)"><i class="fa fa-chevron-right"></i></a>
    </div>

    <div class="project-description" *ngIf="activeProject">
      <div class="information">
        <div class="title">
          <i class="fa" [ngClass]="activeProject.icon" [ngStyle]="{'color':activeProject.color}"></i>
          <span [ngStyle]="{'color':activeProject.color}">{{activeProject.code}}</span>
        </div>
        <div class="description">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sit amet neque tristique, dignissim mi sed,
          finibus nisl. Cras tempor, nisl id malesuada finibus, dui mi interdum urna, nec pellentesque libero augue
          vel augue.
        </div>
      </div>
      <div class="pull-right submit-button">
        <button type="button" class="btn btn-primary" (click)="onSaveActiveItems()">Choose</button>
      </div>
    </div>
  </div>
</div>
