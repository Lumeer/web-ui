<div>
  <div class="proj-header row">
    <div class="col-sm-7 col-sm-offset-2">
      <h3 class="headline">{{projectCode ? 'Edit project' : 'Create project'}}</h3>
    </div>
    <div class="col-sm-3">
      <i class="fa fa-trash pull-right text-danger icon" aria-hidden="true"
         *ngIf="projectCode" (click)="onDelete()"></i>
    </div>
  </div>
  <div class="alert alert-danger" *ngIf="errorMessage">
    <strong>Error!</strong> {{errorMessage}}
  </div>
  <form  #f="ngForm" class="form-horizontal" (ngSubmit)="onSave()">
    <div class="form-group">
      <label for="proj-code" class="col-sm-2 control-label">Code</label>
      <div class="col-sm-4">
        <input class="form-control" type="text" [(ngModel)]="project.code"
               name="code" id="proj-code" placeholder="Code" #code="ngModel"
               required minlength="3" maxlength="6">
        <small class="text-danger" [hidden]="code.valid || (code.pristine && !f.submitted)">
          Code is required (from 3 to 6 characters).
        </small>
      </div>
    </div>
    <div class="form-group">
      <label for="proj-name" class="col-sm-2 control-label">Name</label>
      <div class="col-sm-4">
        <input class="form-control" type="text" [(ngModel)]="project.name"
               name="name" id="proj-name" placeholder="Name" #name="ngModel"
               required minlength="3" maxlength="24">
        <small class="text-danger" [hidden]="name.valid || (name.pristine && !f.submitted)">
          Code is required (from 3 to 24 characters).
        </small>
      </div>
    </div>
    <div class="form-group">
      <label for="proj-color" class="col-sm-2 control-label">Color</label>
      <div class="col-sm-4">
        <input class="form-control" type="text" minlength="7" maxlength="7"
               [(ngModel)]="project.color" name="color" id="proj-color"
               placeholder="Color" #color="ngModel">
        <small [hidden]="color.valid || (color.pristine && !f.submitted)" class="text-danger">
          Color must contain 7 characters (# + 6 hex numbers).
        </small>
      </div>
    </div>
    <div class="form-group">
      <label for="proj-icon" class="col-sm-2 control-label">Icon</label>
      <div class="col-sm-4">
        <input class="form-control" type="text" [(ngModel)]="project.icon"
               name="icon" id="proj-icon" placeholder="Icon">
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-4 col-sm-offset-2">
        <button class="btn btn-primary btn-sm" type="submit" [disabled]="!f.form.valid">Save</button>
        <button class="btn btn-warning btn-sm" (click)="onCancel()">Cancel</button>
      </div>
    </div>
  </form>
</div>
<permissions [resourceType]="'project'"></permissions>
