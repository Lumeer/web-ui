<data-resource-detail-modal [resource]="resource$ | async"
                            [dataResource]="dataResource$ | async"
                            [toolbarRef]="toolbar"
                            [viewId]="view?.id"
                            [createDirectly]="true"
                            (dataResourceChanged)="onDataResourceChanged($event)">
</data-resource-detail-modal>

<ng-template #toolbar>

  <div class="d-flex flex-row flex-nowrap align-items-center my-3" *ngIf="{
  stemIndex: stemIndex$ | async,
  collections: collections$ | async,
  linkTypes: linkTypes$ | async,
  permissions: permissions$ | async
  } as data">

    <select-item *ngIf="!dataResource"
                 class="d-block me-2"
                 [items]="query$ | async | stemCollectionsItems:config:data.collections:data.linkTypes:data.permissions"
                 [removable]="false"
                 [fitParent]="false"
                 [selectedId]="stemIndex$ | async"
                 (selected)="onStemIndexSelect($event)">
    </select-item>

    <div class="form-check"
         *ngIf="config | canToggleAllDay:data.stemIndex:data.collections:data.linkTypes:data.permissions">
      <input id="allDayCheckbox"
             [attr.checked]="allDay$ | async"
             [checked]="allDay$ | async"
             (change)="onAllDayChecked($event.target.checked)"
             type="checkbox"
             class="form-check-input">
      <label for="allDayCheckbox"
             class="form-check-label">
      </label>
      <span i18n="@@dialog.create.calendar.event.allDay">All day event</span>
    </div>

  </div>
</ng-template>
