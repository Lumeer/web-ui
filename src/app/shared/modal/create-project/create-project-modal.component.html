<modal-wrapper class="d-block"
               dialogType="primary"
               *ngIf="{projectsCount: projectsCount$ | async, templates: templates$ | async} as data"
               [performingAction]="performingAction$ | async"
               [performingSecondaryAction]="performingSecondaryAction$ | async"
               [customHeader]="true"
               [submitDisabled]="formDisabled$ | async"
               [showSecondarySubmit]="!(data.templates?.length > 0) || (data.projectsCount > 0)"
               secondarySubmitClass="primary"
               [secondarySubmitDisabled]="false"
               [showClose]="data.projectsCount > 0"
               (onSubmit)="onSubmit()"
               (onSecondarySubmit)="onSecondarySubmit()"
               (onClose)="onClose()">

  <div class="body w-100 h-100">
    <create-project-templates [templates]="data.templates"
                              [loadingState]="templatesState$ | async"
                              [initialTemplateCode]="templateCode"
                              [form]="form">
    </create-project-templates>
  </div>

  <span class="button-cancel" i18n="@@button.cancel">Cancel</span>
  <span class="button-secondary-submit" i18n="@@templates.button.empty">Start with empty project</span>
  <span class="button-submit" i18n="@@templates.button.use">Use this template</span>

</modal-wrapper>
