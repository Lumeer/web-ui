<!--div class="input-group input-group-lg flex-fill mr-3">
  <div class="input-group-prepend">
    <span class="input-group-text" id=""><i class="fas fa-search"></i></span>
  </div>
  <div contenteditable="true" class="form-control frame"><span class="badge badge-pill badge-warning">Collection</span></div>
</div-->



<div class="form-control w-100 p-0">
  <form class="d-flex" [formGroup]="form">
    <div class="d-flex flex-wrap  flex-grow-1 pb-1 pr-1" [style.width.px]="1" formArrayName="queryItems">
      <query-item *ngFor="let queryItem of queryItems; trackBy:trackByTypeAndText; let itemIndex = index;"
                  [queryItemForm]="queryItemsControl.at(itemIndex)"
                  [queryItem]="queryItem"
                  (enter)="searchInput.focusInput()"
                  (remove)="onRemoveQueryItem(itemIndex)"
                  class="d-inline-flex mt-1 ml-1 align-items-center">
      </query-item>

      <search-input #searchInput
                    [queryItems]="queryItems"
                    (addQueryItem)="onAddQueryItem($event)"
                    (removeQueryItem)="onRemoveLastQueryItem()"
                    (search)="onSearch()"
                    class="flex-grow-2 mt-1 ml-1"></search-input>
    </div>

    <search-button class="py-0 flex-grow-0" (search)="onSearch($event)"
                   [disabled]="!form.valid"></search-button>
  </form>
</div>
