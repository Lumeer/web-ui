<div class="input-group flex-nowrap" #selectItemParent>
  <div class="input-group-prepend">
    <span class="input-group-text">
      <i *ngIf="placeholderIcon" class="fa-fw {{placeholderIcon}}"></i>
      {{placeholderText}}
    </span>
  </div>

  <button class="btn btn-outline-gray-600 sharp-top-left sharp-bottom-left dropdown-toggle d-flex align-items-center {{buttonClasses}}"
          [disabled]="disabled"
          [ngClass]="disabled ? 'cursor-not-allowed' : 'cursor-pointer'"
          (click)="onDropdownClick()">

    <span class="flex-grow-1 text-left empty-text text-truncate"
          *ngIf="!(selectedId | getSelectItem:items)" [title]="emptyValue">{{emptyValue}}</span>

    <ng-container *ngIf="selectedId | getSelectItem:items as selectedItem">

      <icons-presenter *ngIf="selectedItem.icons && selectedItem.iconColors"
                       [colors]="selectedItem.iconColors"
                       [icons]="selectedItem.icons">
      </icons-presenter>
      <i *ngIf="selectedItem.icons && !selectedItem.iconColors && selectedItem.icons.length === 1" class="fa-fw {{selectedItem.icons[0]}}"></i>
      <span class="ml-2 text-nowrap flex-grow-1 text-left text-truncate" [title]="selectedItem.value">
        {{selectedItem.value}}
      </span>
      <i *ngIf="removable && !disabled" class="fa-fw fal fa-times mx-1 clear" (click)="onRemove($event)"></i>
    </ng-container>
  </button>

  <select-item-dropdown [origin]="selectItemParent"
                        [items]="items"
                        [selectedId]="selectedId"
                        [fitParent]="fitParent"
                        (selectItem)="onSelect($event)">
  </select-item-dropdown>

</div>
