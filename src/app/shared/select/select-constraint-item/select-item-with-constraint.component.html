<select-item
  [items]="attributesResources | selectItemWithConstraint:restrictedIds"
  [selectedId]="selectedId"
  [removable]="removable"
  [disabled]="disabled"
  [buttonClasses]="buttonClasses"
  [placeholderIcon]="placeholderIcon"
  [placeholderText]="placeholderText"
  [emptyValue]="emptyValue"
  (select)="onSelect($event)"
  (remove)="onRemove()">
</select-item>

<ng-container *ngIf="selectedId">
  <ng-container *ngIf="{configItems: attributesResources | selectItemWithConstraintConfig:selectedId} as data">
    <select-item
      *ngIf="data.configItems.length > 1"
      class="d-block mt-1"
      [items]="data.configItems"
      [selectedId]="(data.configItems | findSelectItemById:selectedConstraint)?.id || data.configItems[0].id"
      [removable]="false"
      [placeholderText]="configPlaceholder"
      [buttonClasses]="buttonClasses"
      [disabled]="disabled"
      [emptyValue]="''"
      (select)="onSelectConfig($event)">
    </select-item>
  </ng-container>
</ng-container>
