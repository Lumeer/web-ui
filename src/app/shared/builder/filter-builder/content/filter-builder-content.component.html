<div class="d-flex flex-column">

  <div class="text-muted px-2">Choose Condition</div>
  <div *ngFor="let item of attribute | queryConditionItems; let first = first"
       class="px-2 py-1 dropdown-item cursor-pointer font-italic"
       [class.mt-2]="first"
       [class.active]="item.value === selectedCondition"
       (mousedown)="$event.stopImmediatePropagation(); $event.preventDefault()"
       (click)="$event.stopImmediatePropagation(); $event.preventDefault(); onConditionSelect(item)">{{item.title}}</div>
</div>

<div class="d-flex flex-column ml-3" *ngFor="let index of ngForIndexes">
  <div class="text-muted px-2">Choose Value</div>
  <data-input class="h-100 data-input mt-2 cursor-pointer"
              [class.data-input-border]="constraint?.type !== constraintType.Boolean"
              [class.data-input-padding]="constraint?.type !== constraintType.Color"
              [class.editing]="constraint?.type !== constraintType.Boolean && (editing$ | async) === index"
              [constraint]="constraint"
              [dataValue]="dataValues[index]"
              [configuration]="configuration"
              [focus]="true"
              [readonly]="!(((editing$ | async) === index) || constraint?.type === constraintType.Boolean)"
              (cancel)="onInputCancel(index)"
              (save)="onInputSave($event, index)"
              (keydown)="onKeyDown($event, index)"
              (click)="$event.preventDefault(); startEditing(index)">
  </data-input>
  <div *ngFor="let item of attribute | queryConstraintConditions; let first = first"
       class="px-2 py-1 dropdown-item cursor-pointer"
       [class.mt-2]="first"
       [class.active]="selectedValues?.length && item.value === selectedValues[index].type"
       (click)="onConditionValueSelect(item, index)">
    {{item.title}}
  </div>
</div>
