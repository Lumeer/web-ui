<div class="row">
  <div class="col-6 col-md-4 col-lg-3 py-2">
    <filter-box
      [placeholder]="'Filter users'"
      (textChange)="onFilterChanged($event)">
    </filter-box>
  </div>
</div>
<new-user *ngIf="canEditUsers()"
  [organization]="organization"
  (userCreated)="userCreated.emit($event)">
</new-user>

<div *ngFor="let user of filterUsers(users); let isLast = last" [class.mb-2]="!isLast">

  <user
    [organization]="organization"
    [user]="user"
    [editable]="canEditUsers()"
    [expanded]="expanded[user.email]"
    (expandedChange)="(expanded[user.email] = !expanded[user.email])"
    (userUpdated)="userUpdated.emit($event)"
    (userDeleted)="userDeleted.emit($event)">
  </user>

  <!--<user-groups-->
    <!--*ngIf="expanded[user.email]"-->
    <!--[organization]="organization"-->
    <!--[user]="user"-->
    <!--[groups]="groups"-->
    <!--(userUpdate)="userUpdated.emit($event)">-->
  <!--</user-groups>-->

</div>
