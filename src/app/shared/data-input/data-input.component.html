<ng-container *ngIf="constraint; else textDataInput"
              [ngSwitch]="constraint.type">
  <address-data-input *ngSwitchCase="constraintType.Address"
                      [constraintConfig]="constraint?.config"
                      [focus]="focus"
                      [readonly]="readonly"
                      [skipValidation]="skipValidation"
                      [value]="value"
                      (valueChange)="onValueChange($event)"
                      (save)="onSaveValue($event)"
                      (cancel)="onCancel()"
                      (focused)="emitFocus($event)">
  </address-data-input>

  <boolean-data-input *ngSwitchCase="constraintType.Boolean"
                      [readonly]="readonly"
                      [value]="value"
                      (valueChange)="onValueChange($event)"
                      (save)="onSaveValue($event)"
                      (onFocus)="emitFocus($event)">
  </boolean-data-input>

  <coordinates-data-input *ngSwitchCase="constraintType.Coordinates"
                          [constraintConfig]="constraint?.config"
                          [focus]="focus"
                          [readonly]="readonly"
                          [skipValidation]="skipValidation"
                          [value]="value"
                          (valueChange)="onValueChange($event)"
                          (save)="onSaveValue($event)"
                          (cancel)="onCancel()"
                          (onFocus)="emitFocus($event)"
                          class="d-block">
  </coordinates-data-input>

  <datetime-data-input *ngSwitchCase="constraintType.DateTime"
                       [constraintConfig]="constraint.config"
                       [focus]="focus"
                       [readonly]="readonly"
                       [skipValidation]="skipValidation"
                       [value]="value"
                       (valueChange)="onValueChange($event)"
                       (save)="onSaveValue($event)"
                       (cancel)="onCancel()"
                       class="d-block">
  </datetime-data-input>

  <duration-data-input *ngSwitchCase="constraintType.Duration"
                       [constraintConfig]="constraint.config"
                       [focus]="focus"
                       [readonly]="readonly"
                       [skipValidation]="skipValidation"
                       [value]="value"
                       (valueChange)="onValueChange($event)"
                       (save)="onSaveValue($event)"
                       (cancel)="onCancel()"
                       class="d-block">
  </duration-data-input>

  <files-data-input *ngSwitchCase="constraintType.Files"
                    [cursor]="cursor"
                    [focus]="focus"
                    [readonly]="readonly"
                    [value]="value"
                    (save)="onSaveValue($event)"
                    (cancel)="onCancel()"
                    class="px-1">
  </files-data-input>

  <number-data-input *ngSwitchCase="constraintType.Number"
                     [focus]="focus"
                     [readonly]="readonly"
                     [constraintConfig]="constraint.config"
                     [value]="value"
                     [skipValidation]="skipValidation"
                     (valueChange)="onValueChange($event)"
                     (save)="onSaveValue($event)"
                     (cancel)="onCancel()"
                     (onFocus)="emitFocus($event)"
                     class="d-block">
  </number-data-input>

  <percentage-data-input *ngSwitchCase="constraintType.Percentage"
                         [focus]="focus"
                         [readonly]="readonly"
                         [constraintConfig]="constraint.config"
                         [value]="value"
                         [skipValidation]="skipValidation"
                         (valueChange)="onValueChange($event)"
                         (save)="onSaveValue($event)"
                         (cancel)="onCancel()"
                         (onFocus)="emitFocus($event)"
                         class="d-block">
  </percentage-data-input>

  <color-data-input *ngSwitchCase="constraintType.Color"
                    [focus]="focus"
                    [readonly]="readonly"
                    [constraintConfig]="constraint.config"
                    [value]="value"
                    [skipValidation]="skipValidation"
                    (valueChange)="onValueChange($event)"
                    (save)="onSaveValue($event)"
                    (cancel)="onCancel()"
                    (onFocus)="emitFocus($event)"
                    class="d-block">
  </color-data-input>

  <select-data-input *ngSwitchCase="constraintType.Select"
                     [focus]="focus"
                     [readonly]="readonly"
                     [constraintConfig]="constraint.config"
                     [value]="value"
                     (valueChange)="onValueChange($event)"
                     (save)="onSaveValue($event)"
                     (cancel)="onCancel()"
                     (onFocus)="emitFocus($event)"
                     class="d-block">
  </select-data-input>

  <user-data-input *ngSwitchCase="constraintType.User"
                   [focus]="focus"
                   [readonly]="readonly"
                   [constraintConfig]="constraint.config"
                   [skipValidation]="skipValidation"
                   [value]="value"
                   (valueChange)="onValueChange($event)"
                   (save)="onSaveValue($event)"
                   (cancel)="onCancel()"
                   (onFocus)="emitFocus($event)">
  </user-data-input>

  <text-data-input *ngSwitchDefault
                   [constraintConfig]="constraint?.config"
                   [focus]="focus"
                   [readonly]="readonly"
                   [skipValidation]="skipValidation"
                   [value]="value"
                   (valueChange)="onValueChange($event)"
                   (save)="onSaveValue($event)"
                   (cancel)="onCancel()"
                   (onFocus)="emitFocus($event)"
                   class="d-block">
  </text-data-input>
</ng-container>

<ng-template #textDataInput>
  <text-data-input [constraintConfig]="constraint?.config"
                   [focus]="focus"
                   [readonly]="readonly"
                   [skipValidation]="skipValidation"
                   [value]="value"
                   (valueChange)="onValueChange($event)"
                   (save)="onSaveValue($event)"
                   (cancel)="onCancel()"
                   (onFocus)="emitFocus($event)"
                   class="d-block">
  </text-data-input>
</ng-template>
