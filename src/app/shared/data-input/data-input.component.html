<ng-container *ngIf="constraint; else textDataInput"
              [ngSwitch]="constraint.type">
  <address-data-input *ngSwitchCase="constraintType.Address"
                      [focus]="focus"
                      [readonly]="readonly"
                      [skipValidation]="configuration.skipValidation"
                      [value]="dataValue"
                      (valueChange)="onValueChange($event)"
                      (save)="onSaveValue($event)"
                      (cancel)="onCancel()"
                      (onFocus)="emitFocus($event)"
                      class="d-block w-100">
  </address-data-input>

  <boolean-data-input *ngSwitchCase="constraintType.Boolean"
                      [readonly]="readonly"
                      [value]="dataValue"
                      (valueChange)="onValueChange($event)"
                      (save)="onSaveValue($event)"
                      (onFocus)="emitFocus($event)"
                      class="w-100">
  </boolean-data-input>

  <coordinates-data-input *ngSwitchCase="constraintType.Coordinates"
                          [focus]="focus"
                          [readonly]="readonly"
                          [skipValidation]="configuration.skipValidation"
                          [value]="dataValue"
                          (valueChange)="onValueChange($event)"
                          (save)="onSaveValue($event)"
                          (cancel)="onCancel()"
                          (onFocus)="emitFocus($event)"
                          class="d-block w-100">
  </coordinates-data-input>

  <datetime-data-input *ngSwitchCase="constraintType.DateTime"
                       [focus]="focus"
                       [readonly]="readonly"
                       [skipValidation]="configuration.skipValidation"
                       [value]="dataValue"
                       (valueChange)="onValueChange($event)"
                       (onFocus)="emitFocus($event)"
                       (save)="onSaveValue($event)"
                       (cancel)="onCancel()"
                       class="d-block w-100">
  </datetime-data-input>

  <duration-data-input *ngSwitchCase="constraintType.Duration"
                       [focus]="focus"
                       [readonly]="readonly"
                       [skipValidation]="configuration.skipValidation"
                       [value]="dataValue"
                       (valueChange)="onValueChange($event)"
                       (save)="onSaveValue($event)"
                       (cancel)="onCancel()"
                       (enterInvalid)="enterInvalid.emit()"
                       (onFocus)="emitFocus($event)"
                       class="d-block w-100">
  </duration-data-input>

  <files-data-input *ngSwitchCase="constraintType.Files"
                    [cursor]="cursor"
                    [focus]="focus"
                    [readonly]="readonly"
                    [value]="dataValue"
                    (save)="onSaveValue($event)"
                    (click)="emitFocus($event)"
                    (cancel)="onCancel()"
                    class="px-1 w-100">
  </files-data-input>

  <number-data-input *ngSwitchCase="constraintType.Number"
                     [focus]="focus"
                     [readonly]="readonly"
                     [value]="dataValue"
                     [skipValidation]="configuration.skipValidation"
                     (valueChange)="onValueChange($event)"
                     (save)="onSaveValue($event)"
                     (cancel)="onCancel()"
                     (enterInvalid)="enterInvalid.emit()"
                     (onFocus)="emitFocus($event)"
                     class="d-block w-100">
  </number-data-input>

  <percentage-data-input *ngSwitchCase="constraintType.Percentage"
                         [focus]="focus"
                         [readonly]="readonly"
                         [value]="dataValue"
                         [skipValidation]="configuration.skipValidation"
                         (valueChange)="onValueChange($event)"
                         (save)="onSaveValue($event)"
                         (cancel)="onCancel()"
                         (enterInvalid)="enterInvalid.emit()"
                         (onFocus)="emitFocus($event)"
                         class="d-block w-100">
  </percentage-data-input>

  <color-data-input *ngSwitchCase="constraintType.Color"
                    [focus]="focus"
                    [readonly]="readonly"
                    [value]="dataValue"
                    [skipValidation]="configuration.skipValidation"
                    (valueChange)="onValueChange($event)"
                    (save)="onSaveValue($event)"
                    (cancel)="onCancel()"
                    (onFocus)="emitFocus($event)"
                    class="d-block w-100">
  </color-data-input>

  <select-data-input *ngSwitchCase="constraintType.Select"
                     [focus]="focus"
                     [readonly]="readonly"
                     [value]="dataValue"
                     (valueChange)="onValueChange($event)"
                     (save)="onSaveValue($event)"
                     (cancel)="onCancel()"
                     (onFocus)="emitFocus($event)"
                     class="d-block w-100">
  </select-data-input>

  <user-data-input *ngSwitchCase="constraintType.User"
                   [focus]="focus"
                   [readonly]="readonly"
                   [skipValidation]="configuration.skipValidation"
                   [value]="dataValue"
                   (valueChange)="onValueChange($event)"
                   (save)="onSaveValue($event)"
                   (cancel)="onCancel()"
                   (enterInvalid)="enterInvalid.emit()"
                   (onFocus)="emitFocus($event)"
                   class="w-100">
  </user-data-input>

  <ng-container *ngSwitchCase="constraintType.Text">
    <rich-text-data-input *ngIf="!configuration.fromQuery; else textDataInput"
                          [focus]="focus"
                          [readonly]="readonly"
                          [skipValidation]="configuration.skipValidation"
                          [value]="dataValue"
                          (valueChange)="onValueChange($event)"
                          (save)="onSaveValue($event)"
                          (cancel)="onCancel()"
                          (onFocus)="emitFocus($event)"
                          class="w-100">
    </rich-text-data-input>
  </ng-container>

  <ng-container *ngSwitchDefault
                [ngTemplateOutlet]="textDataInput">
  </ng-container>
</ng-container>

<ng-template #textDataInput>
  <text-data-input [focus]="focus"
                   [readonly]="readonly"
                   [skipValidation]="configuration.skipValidation"
                   [value]="dataValue"
                   [placeholder]="placeholder"
                   [suggestions]="suggestions"
                   (valueChange)="onValueChange($event)"
                   (save)="onSaveValue($event)"
                   (cancel)="onCancel()"
                   (enterInvalid)="enterInvalid.emit()"
                   (onFocus)="emitFocus($event)"
                   class="d-block w-100">
  </text-data-input>
</ng-template>
