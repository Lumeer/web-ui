<div class="col-12 col-lg-11 col-xl-10 m-auto" *ngIf="organization">
  <div class="d-flex flex-row justify-content-start align-items-center">
    <a class="fas fa-chevron-left chevron mr-2"
       title="Back" i18n-title="@@organization.settings.back"
       [routerLink]="['/workspace']"></a>
    <i class="fa-fw {{ organization.icon }} cursor-pointer"
       [style.fontSize.rem]="2"
       [style.color]="organization.color" data-toggle="dropdown"></i>
    <div class="dropdown-menu">
      <color-picker class="dropdown-item" [color]="organization.color"
                    (selectedChange)="onNewColor($event)"></color-picker>
      <div class="dropdown-divider"></div>
      <icon-picker class="dropdown-item" [icon]="organization.icon"
                   (selectedChange)="onNewIcon($event)"></icon-picker>
    </div>

    <input-box
      class="flex-grow-2 px-2"
      [style.width]="1+'px'"
      [initialValue]="organization.name"
      [color]="organization.color"
      [canStayEmpty]="false"
      [fontSizeRem]="2"
      [maxLines]="1"
      [title]="'Organization name'"
      [placeholder]="'Organization name'"
      (newValue)="onNewName($event)">
    </input-box>

    <div class="d-flex flex-row flex-nowrap align-items-center ml-auto">
      <div class="d-flex flex-row flex-nowrap align-items-center mr-3"
           [style.color]="organization.color"
           title="Number of users" i18n-title="@@organization.settings.users.count">
        <i class="far fa-user mr-1" aria-hidden="true"></i>
        <span>{{ userCount$ | async }}</span>
      </div>

      <div class="d-flex flex-row flex-nowrap align-items-center cursor-pointer"
           [style.color]="organization.color"
           (click)="onProjectsClick()"
           title="Number of projects" i18n-title="@@organization.settings.projects.count">
        <i class="far fa-edit mr-1" aria-hidden="true"></i>
        <span>{{ projectsCount$ | async }}</span>
      </div>
    </div>
  </div>

  <div class="d-flex flex-row justify-content-start align-items-center py-2">

    <input-box
      class="flex-grow-2 px-2"
      [style.width]="1+'px'"
      [initialValue]="organization.code"
      [color]="organization.color"
      [canStayEmpty]="false"
      [fontSizeRem]="1.5"
      [maxLines]="1"
      [title]="'Organization code'"
      [placeholder]="'Organization code'"
      (newValue)="onNewCode($event)">
    </input-box>

    <a (click)="onDelete()"
       class="text-danger rounded-left ml-auto"
       title="Delete organization" i18n-title="@@organization.settings.delete">
      <i class="fas fa-fw fa-trash" aria-hidden="true"></i>
    </a>
  </div>

  <input-box
    class="d-flex pb-3 pt-1"
    [initialValue]="organization.description"
    [canStayEmpty]="true"
    [fontSizeRem]="1"
    [maxLines]="4"
    [title]="'Organization description'"
    [placeholder]="'Organization description'"
    (newValue)="onNewDescription($event)">
  </input-box>

  <ul class="nav nav-tabs">
    <li role="presentation" class="nav-item">
      <a [routerLink]="'detail'"
         routerLinkActive="active"
         class="nav-link"
         i18n="@@organizations.tab.detail">Detail</a>
    </li>
    <li role="presentation" class="nav-item">
      <a [routerLink]="'users'"
         routerLinkActive="active"
         class="nav-link"
         i18n="@@organizations.tab.users">Users</a>
    </li>
  </ul>
  <router-outlet></router-outlet>
</div>
