<div class="container-fluid container">
  <resource-chooser *ngIf="organizations"
                    [initActiveIx]="activeOrgIx"
                    [resourceType]="'organization'"
                    [resourcesPostIts]="organizationsPostIts"
                    [canCreateResource]="true"
                    (resourceSelect)="onSelectOrganization($event)"
                    (resourceNew)="onCreateOrganization($event)"
                    (resourceSettings)="onOrganizationSettings($event)"
                    (resourceNewDescription)="onNewOrganizationDescription($event)">
  </resource-chooser>

  <div class="pt-3" *ngIf="activeOrgIx >=0" [@animateOpacityFromUp]="'in'">
    <resource-chooser *ngIf="organizations[activeOrgIx].projects"
                      [initActiveIx]="activeProjIx"
                      [resourceType]="'project'"
                      [resourcesPostIts]="selectedProjectsPostIts"
                      [canCreateResource]="hasManageRole(organizations[activeOrgIx])"
                      (resourceSelect)="onSelectProject($event)"
                      (resourceSettings)="onProjectSettings($event)"
                      (resourceNew)="onCreateProject($event)"
                      (resourceNewDescription)="onNewProjectDescription($event)">
    </resource-chooser>
  </div>
  <div class="my-4 py-2 px-5 d-flex justify-content-end container" *ngIf="activeProjIx >=0"
       [@animateOpacityFromUp]="'in'">
    <button type="button" class="btn btn-lg btn-success py-2 px-4 font-weight-bold" (click)="onSaveActiveItems()">
      <i class="fas fa fa-play px-2"></i>
      <span i18n="@@workspace.button.apply">Use project</span>
    </button>
  </div>
</div>
