<div [formGroup]="form">

  <div class="form-group row m-0 mt-3">
    <label class="col-sm-12 col-md-3 px-0 col-lg-2 col-form-label" i18n="@@collections.tab.purpose.assignee.label">
      Assignee
    </label>
    <select-item class="col-sm-12 col-md-6 col-lg-5 col-xl-4 px-0"
                 [items]="collection | attributesSelectItems"
                 [removable]="true"
                 emptyValue="Select assignee attribute"
                 i18n-emptyValue="@@collections.tab.purpose.assignee.select"
                 [selectedId]="assigneeControl.value"
                 (select)="assigneeControl.patchValue($event)"
                 (remove)="assigneeControl.patchValue(null)">
    </select-item>
  </div>

  <div class="form-group row m-0 mt-3">
    <label class="col-sm-12 col-md-3 px-0 col-lg-2 col-form-label" i18n="@@collections.tab.purpose.dueDate.label">
      Due Date
    </label>
    <select-item class="col-sm-12 col-md-6 col-lg-5 col-xl-4 px-0"
                 [items]="collection | attributesSelectItems:constraintType.DateTime"
                 [removable]="true"
                 emptyValue="Select due date attribute"
                 i18n-emptyValue="@@collections.tab.purpose.dueDate.select"
                 [selectedId]="dueDateControl.value"
                 (select)="dueDateControl.patchValue($event)"
                 (remove)="dueDateControl.patchValue(null)">
    </select-item>
  </div>

  <div class="form-group row m-0 mt-3">
    <label class="col-sm-12 col-md-3 px-0 col-lg-2 col-form-label" i18n="@@collections.tab.purpose.state.label">
      State
    </label>
    <select-item class="col-sm-12 col-md-6 col-lg-5 col-xl-4 px-0"
                 [items]="collection | attributesSelectItems"
                 [removable]="true"
                 emptyValue="Select state attribute"
                 i18n-emptyValue="@@collections.tab.purpose.state.select"
                 [selectedId]="stateControl.value"
                 (select)="stateControl.patchValue($event); stateListControl.patchValue([]);"
                 (remove)="stateControl.patchValue(null)">
    </select-item>
  </div>

  <div class="form-group row m-0 mt-3"
       *ngIf="collection?.attributes | stateListConstraint:stateControl.value:(documents$ | async):(constraintData$ | async) as stateConstraint">
    <label class="col-sm-12 col-md-3 px-0 col-lg-2 col-form-label" i18n="@@collections.tab.purpose.stateList.label">
      Done states
    </label>
    <data-input class="col-sm-12 col-md-6 col-lg-5 col-xl-4 p-0 form-control multiline"
                [dataValue]="stateList$ | async | dataValue:stateConstraint"
                [focus]="true"
                [configuration]="dataInputConfiguration"
                [readonly]="!(stateListEditing$ | async)"
                [constraint]="stateConstraint"
                (click)="$event.preventDefault(); setStateListEditing(true)"
                (valueChange)="onStateListChange($event)"
                (save)="onStateListSave($event)"
                (cancel)="setStateListCancel()">
    </data-input>
  </div>

  <div class="form-group row m-0 mt-3">
    <label class="col-sm-12 col-md-3 px-0 col-lg-2 col-form-label" i18n="@@collections.tab.purpose.observer.label">
      Observer
    </label>
    <select-item class="col-sm-12 col-md-6 col-lg-5 col-xl-4 px-0"
                 [items]="collection | attributesSelectItems"
                 [removable]="true"
                 emptyValue="Select observer attribute"
                 i18n-emptyValue="@@collections.tab.purpose.observer.select"
                 [selectedId]="observersControl.value"
                 (select)="observersControl.patchValue($event)"
                 (remove)="observersControl.patchValue(null)">
    </select-item>
  </div>


</div>
