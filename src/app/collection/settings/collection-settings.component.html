<div class="col-12 col-lg-11 col-xl-10 m-auto" *ngIf="collection">
  <resource-header
    [resource]="collection"
    [resourceType]="getResourceType()"
    (back)="goToCollectionsPage()"
    (delete)="onDelete()"
    (colorChange)="onNewColor($event)"
    (iconChange)="onNewIcon($event)"
    (descriptionChange)="onNewDescription($event)"
    (nameChange)="onNewName($event)"
    (codeChange)="onNewCode($event)">
    <div class="d-flex flex-row flex-nowrap align-items-center mr-3"
         [style.color]="collection.color"
         title="Number of users" i18n-title="@@collection.settings.users.count">
      <i class="far fa-user mr-1" aria-hidden="true"></i>
      <span>{{ userCount$ | async }}</span>
    </div>

    <div class="d-flex flex-row flex-nowrap align-items-center cursor-pointer"
         [style.color]="collection.color"
         (click)="onDocumentsClick()"
         title="Number of records" i18n-title="@@collection.settings.records.count">
      <i class="far fa-file mr-1" aria-hidden="true"></i>
      <span>{{ collection.documentsCount }}</span>
    </div>

  </resource-header>

  <ul class="nav nav-tabs px-5">
    <li role="presentation" class="nav-item">
      <a [routerLink]="['attributes']"
         routerLinkActive="active"
         class="nav-link"
         i18n="@@collection.config.tab.attributes">
        Attributes
      </a>
    </li>
    <li role="presentation" class="nav-item">
      <a [routerLink]="['linktypes']"
         routerLinkActive="active"
         class="nav-link"
         i18n="@@collection.config.tab.link.types">
        Link Types
      </a>
    </li>
    <li role="presentation" class="nav-item">
      <a [routerLink]="['events']"
         routerLinkActive="active"
         class="nav-link"
         i18n="@@collection.config.tab.events">
        Events
      </a>
    </li>
    <li role="presentation" class="nav-item">
      <a [routerLink]="['users']"
         routerLinkActive="active"
         class="nav-link"
         i18n="@@collection.config.tab.permissions">
        Users
      </a>
    </li>
  </ul>
  <router-outlet></router-outlet>
</div>
