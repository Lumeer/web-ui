<form class="form-inline d-flex mt-2">
  <div class="input-group mb-2">
    <div class="input-group-prepend">
      <span class="input-group-text">
        <strong i18n="@@view.perspective.guide.select">
          1.&nbsp;Select View
        </strong>
      </span>
    </div>
    <div (click)="onPerspectiveChooserClick($event)" title="Perspective" i18n-title="@@view.perspective">
      <button class="btn btn-outline-gray-600 sharp-top-left sharp-bottom-left dropdown-toggle" id="perspectiveDropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i class="fa-fw {{perspective | perspectiveIcon}}"></i>
        <span class="ml-sm-1 text-nowrap" i18n="@@view.perspective.name">{perspective, select, detail {Detail} postit {Post-it} chart {Chart} search {Search} table {Table} table2 {Table 2} smartdoc {Smart document}}</span>
      </button>
      <div class="dropdown-menu" aria-labelledby="perspectiveDropdown">
        <ng-container *ngFor="let aperspective of perspectives | filterPerspectives:view.query">
          <a (click)="onSelectPerspective(aperspective)" class="dropdown-item" [class.active]="perspective === aperspective">
            <i class="fa-fw {{aperspective | perspectiveIcon}}"></i>
            <span class="ml-1 text-nowrap" i18n="@@view.perspective.name">{aperspective, select, detail {Detail} postit {Post-it} chart {Chart} search {Search} table {Table} table2 {Table 2} smartdoc {Smart document}}</span>
          </a>
        </ng-container>
      </div>
    </div>
  </div>
  <i class="fas fa-arrow-circle-right mx-2 mb-2 text-muted"></i>
  <div class="input-group flex-fill mb-2">
    <div class="input-group-prepend">
      <span class="input-group-text"><strong i18n="@@view.perspective.guide.title">2.&nbsp;Set Title</strong></span>
    </div>
    <input
      #viewNameInput
      id="viewName"
      name="viewName"
      type="text"
      class="form-control"
      autocomplete="off"
      placeholder="Type a title of this page, save, and share!"
      i18n-placeholder="@@view.untitled"
      [class.font-italic]="!view.code || nameChanged"
      (input)="onNameInput(viewNameInput.value)"
    >
    <div class="input-group-append">
      <button
        [disabled]="!(viewNameInput.value && isViewChanged())"
        class="btn"
        [class.btn-primary]="viewNameInput.value && isViewChanged()"
        [class.btn-outline-secondary]="!(viewNameInput.value && isViewChanged())"
        [class.disabled]="!(viewNameInput.value && isViewChanged())"
        type="button"
        title="Save" i18n-title="@@view.button.save"
        (click)="onSave(viewNameInput.value)"
      >
        <i class="fas fa-save"></i>
      </button>
      <button
        [disabled]="!view.code"
        class="btn btn-primary"
        [class.btn-primary]="view.code"
        [class.btn-outline-secondary]="!view.code"
        [class.disabled]="!view.code"
        type="button"
        title="Copy" i18n-title="@@view.button.copy"
        (click)="onCopy()"
      >
        <i class="fas fa-copy"></i>
      </button>
      <button class="btn btn-primary" type="button" (click)="onShareClick()" title="Share" i18n-title="@@view.button.share">Share</button>
    </div>
  </div>
</form>
<div *ngIf="isViewChanged()" class="small text-right text-warning">
  <i class="far fa-exclamation-triangle text-warning mr-1"
     title="Changes are not saved yet" i18n-title="@@view.indicator.not.saved">
  </i>
  Changes are not saved yet!
</div>
