<div class="mx-3 mb-3 text-center" *ngIf="collection">
  <i [style.color]="collection.color" aria-hidden="true" class="{{collection.icon}} fa-fw"></i>&nbsp;
  <b>{{collection.name}}</b>&nbsp;
  <span>Form View</span>
</div>

<form-editor-section class="d-block card mx-2"
                     [collection]="collection"
                     [collectionLinkTypes]="collectionLinkTypes"
                     [emptySection]="true"
                     [section]="emptySection"
                     [sectionIds]="sectionIds"
                     [usedAttributeIds]="usedAttributeIds"
                     [usedLinkTypeIds]="usedLinkTypeIds"
                     (sectionChange)="onEmptySectionChanged($event)"
                     (rowMoveToSection)="onRowMoveToSection($event)">
</form-editor-section>

<form-editor-section *ngFor="let section of config?.sections; trackBy: trackBySection; let index = index"
                     class="d-block card mx-2 mt-2"
                     [section]="section"
                     [collection]="collection"
                     [collectionLinkTypes]="collectionLinkTypes"
                     [sectionIds]="sectionIds"
                     [usedAttributeIds]="usedAttributeIds"
                     [usedLinkTypeIds]="usedLinkTypeIds"
                     (sectionChange)="onSectionChanged($event, index)"
                     (rowMoveToSection)="onRowMoveToSection($event)"
                     (delete)="onSectionDelete(index)">
</form-editor-section>

<div class="px-3 mt-3 mb-5">
  <button class="btn btn-outline-primary" (click)="addSection()">
    <i class="far fa-plus mr-2"></i>
    <span i18n="@@perspective.form.editor.section.action.add">Add a Section</span>
  </button>
</div>
