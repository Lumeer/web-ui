<div class="mx-3 mb-3 text-center" *ngIf="collection">
  <i [style.color]="collection.color" aria-hidden="true" class="{{collection.icon}} fa-fw"></i>&nbsp;
  <b>{{collection.name}}</b>&nbsp;
  <span>Form View</span>
</div>

<form-mode [collection]="collection"
           [canManageConfig]="canManageConfig"
           [selectedMode]="mode$ | async"
           [resourcesPermissions]="permissions"
           (modeChange)="onModeChange($event)">
</form-mode>

<ng-container [ngSwitch]="mode$ | async">

  <form-editor *ngSwitchCase="mode.Build"
               class="d-block mt-3 mb-6"
               [config]="config"
               [collection]="collection"
               [collectionLinkTypes]="collectionLinkTypes"
               (configChange)="configChange.emit($event)">
  </form-editor>

  <form-view *ngSwitchCase="mode.Create"
             class="d-block mt-3 mb-6"
             [config]="config"
             [collection]="collection"
             [query]="query"
             [view]="view"
             [mode]="mode.Create"
             [attributesSettings]="attributesSettings"
             [collectionLinkTypes]="collectionLinkTypes">
  </form-view>

  <form-view *ngSwitchCase="mode.Update"
             class="d-block mt-3 mb-6"
             [config]="config"
             [collection]="collection"
             [query]="query"
             [view]="view"
             [mode]="mode.Update"
             [attributesSettings]="attributesSettings"
             [collectionLinkTypes]="collectionLinkTypes">
  </form-view>

</ng-container>
