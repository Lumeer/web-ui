<div class="mt-2" *ngIf="{views: views$ | async, queryData: queryData$ | async} as data" data-tour="search-views">
  <size-slider class="d-flex justify-content-end mb-2"
               [defaultSize]="size" (newSize)="onSizeChange($event)"></size-slider>

  <ng-container *ngIf="!isLoading() && data.views">

    <ng-container *ngIf="data.views.length; else noViews">
      <view-detail *ngFor="let view of (maxLines > 0 ? (data.views | slice:0:maxLines) : data.views); trackBy:trackByView"
                   [view]="view"
                   [queryData]="data.queryData"
                   [viewSize]="size"
                   (delete)="onDeleteView(view)"
                   (clicked)="showView(view)">
      </view-detail>
      <div class="clickable d-flex justify-content-center" [style.font-size.%]="150"
           *ngIf="maxLines > 0 && maxLines < data.views.length"
           (click)="onShowAll()">
        <span class="see-more" i18n="@@search.result.more">See more</span>
      </div>
    </ng-container>

  </ng-container>

</div>

<ng-template #noViews>
  <empty-views [query]="query"></empty-views>
</ng-template>
