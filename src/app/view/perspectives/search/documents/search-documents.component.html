<div class="mt-2" *ngIf="getDocuments() as documents">
  <div *ngIf="!documents.length && loaded" class="alert alert-warning" i18n="@@search.result.empty">
    We are sorry, but we have not found anything. Please do a more accurate search.
  </div>
  <div *ngIf="documents.length" infiniteScroll
       [infiniteScrollDisabled]="maxLines > 0"
       [infiniteScrollDistance]="2"
       (scrolled)="onScrollDown($event)">
    <size-slider class="d-flex justify-content-end mb-2"
                 [defaultSize]="size" (newSize)="onSizeChange($event)"></size-slider>
    <div *ngFor="let document of (maxLines > 0 ? (documents | slice:0:maxLines) : documents); trackBy:trackByDocument">

      <search-document-header
        (toggle)="toggleDocument(document)"
        (detail)="onDetailClick(document)"
        [size]="size"
        [document]="document"
        [isOpened]="isDocumentOpened(document) || isXlTemplatePresented()"
        [collection]="collections[document.collectionId]">
        <ng-container *ngTemplateOutlet="getTemplate(document); context: { $implicit: document}"></ng-container>
      </search-document-header>
      <hr/>
    </div>

    <div class="clickable d-flex justify-content-end" [style.font-size.%]="150"
         *ngIf="maxLines > 0 && maxLines < documents.length" i18n="@@search.result.more"
         (click)="onShowAll()">
      See all
    </div>
  </div>
</div>

<ng-template #sTemplate let-document>
</ng-template>

<ng-template #mTemplate let-document>
  <div [innerHTML]="createValuesHtml(document)"></div>
</ng-template>

<ng-template #lTemplate let-document>
  <div [innerHTML]="createEntriesHtml(document)"></div>
</ng-template>

<ng-template #xlTemplate let-document>
  <ng-container *ngTemplateOutlet="lTemplate; context: { $implicit: document}"></ng-container>
  <!--links></links>
  <comments></comments-->
</ng-template>
