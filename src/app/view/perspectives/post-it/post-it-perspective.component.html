<div class="container-fluid" infiniteScroll
     [infiniteScrollDistance]="2"
     (scrolled)="onScrollDown($event)">
  <div class="my-2 d-flex align-items-center">
    <add-document
      [query]="query"
      [hasCollection]="hasSingleCollection()"
      [hasRights]="hasCreateRights()"
      (createPostIt)="createPostIt($event)">
    </add-document>

    <size-slider class="ml-auto"
                 [defaultSize]="size"
                 (newSize)="onSizeChange($event)">
    </size-slider>
  </div>

  <div class="post-it-document-layout row" #postItLayout>
    <div class="layout-item {{getColumnStyle()}} mb-3"
         layout-item
         [layout]="layoutManager"
         *ngFor="let doc of getDocuments(); trackBy:trackByDocument; let idx = index"
         id="{{perspectiveId}}#{{doc.correlationId || doc.id}}">
      <post-it-document
        class="card post-it"
        [ngClass]="doc.id ? 'initialized': 'uninitialized'"
        [collection]="getCollection(doc)"
        [collectionRoles]="getCollectionRoles(doc)"
        [index]="idx"
        [documentModel]="doc"
        [perspectiveId]="perspectiveId"
        [selectionHelper]="selectionHelper"
        (remove)="removePostIt(doc)"
        (sizeChange)="postItChanged()"></post-it-document>

    </div>

    <label *ngIf="(!hasSingleCollection() || !hasCreateRights()) && !postItsOrder.length"
           class="label-centered"
           i18n="@@document.list.empty">Nothing To Show</label>
  </div>
</div>

<div class="fading loading-text text-center py-5"
     [style.opacity]="0"
     i18n="@@documents.post.it.loading">
  Loading...
</div>
