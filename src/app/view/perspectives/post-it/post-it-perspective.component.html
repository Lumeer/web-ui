<div class="perspective" #perspective [style.height]="height + 'px'">
  <div class="layout" #layout>

    <add-document *ngIf="editable && query.collectionCodes.length < 2"
                  class="layout-item"
                  [query]="query"
                  (newDocument)="createDocument($event)"></add-document>

    <ng-container *ngFor="let postIt of postIts">
      <post-it-document *ngIf="postIt.collection"
                        class="layout-item card post-it
                        {{ !postIt.initialized ? 'uninitialized' : null }}
                        {{ postIt === lastClickedPostIt ? 'selected' : null }}"
                        [attr.z-index]="postIt.selectedInput.documentIdx === postIt.index ? 50 : null"
                        [data]="postIt"
                        (selectOther)="selectDocument($event)"
                        (removed)="confirmDeletion(postIt)"
                        (changes)="sendUpdate(postIt)">
      </post-it-document>
    </ng-container>

    <datalist *ngFor="let attributeSuggestionsEntry of attributeSuggestionsEntries()"
              id="{{ attributeSuggestionsEntry[0] }}">
      <option *ngFor="let suggestion of attributeSuggestionsEntry[1]">{{ suggestion }}</option>
    </datalist>

    <label *ngIf="!editable && query && !postIts.length"
           class="label-centered"
           i18n="@@document.list.empty">Nothing To Show</label>
  </div>
</div>

<a tabindex
   (click)="showMore(perspective)"
   class="scroll-down"
   i18n="@@document.button.show.more">
  Show More
  <i class="fa fa-chevron-down"></i>
</a>
