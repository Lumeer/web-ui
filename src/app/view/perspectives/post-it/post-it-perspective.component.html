<div class="container-fluid" infiniteScroll
     [infiniteScrollDistance]="2"
     (scrolled)="onScrollDown($event)">
  <div class="my-2 d-flex align-items-center">
    <add-document
      [query]="query"
      [hasCollection]="hasSingleCollection()"
      [hasRights]="hasCreateRights()"
      (createPostIt)="createPostIt($event)">
    </add-document>

    <size-slider class="ml-auto"
                 [defaultSize]="size"
                 (newSize)="onSizeChange($event)">
    </size-slider>
  </div>

  <div class="post-it-document-layout row" #postItLayout>
    <div class="layout-item {{size | postItColumnStyle}} mb-3"
         layout-item
         [layout]="layoutManager"
         *ngFor="let doc of getDocuments(); trackBy:trackByDocument; let idx = index"
         id="{{perspectiveId}}#{{doc.correlationId || doc.id}}">
      <post-it-document
        class="card post-it"
        [ngClass]="doc.id ? 'initialized': 'uninitialized'"
        [collection]="doc | documentCollection:collections"
        [collectionRoles]="doc | documentCollectionRoles:collectionRoles"
        [index]="idx"
        [documentModel]="doc"
        [perspectiveId]="perspectiveId"
        [selectionHelper]="selectionHelper"
        (remove)="removePostIt(doc)"
        (sizeChange)="postItChanged()"></post-it-document>

    </div>
  </div>
</div>
