<div #layout class="container-fluid">
  <div class="my-2 d-flex align-items-center">
    <add-document
      [hasCollection]="hasSingleCollection()"
      [hasRights]="hasCreateRights()"
      (createPostIt)="createPostIt($event)">
    </add-document>

    <size-slider class="ml-auto"
                 [defaultSize]="size"
                 (newSize)="onSizeChange($event)">
    </size-slider>
  </div>

  <div class="post-it-document-layout row">
    <div class="layout-item {{getColumnStyle()}} mb-3"
         layout-item
         [layout]="layoutManager"
         *ngFor="let postIt of postIts; trackBy:trackByDocument; let idx = index">
      <post-it-document
        class="card post-it"
        [ngClass]="postIt.document.id ? 'initialized': 'uninitialized'"
        [attr.order]="postIt.order"
        [collection]="getCollection(postIt)"
        [collectionRoles]="getCollectionRoles(postIt)"
        [postItModel]="postItWithIndex(postIt, idx)"
        [perspectiveId]="perspectiveId"
        [selectionHelper]="selectionHelper"
        [navigationHelper]="navigationHelper"
        (favoriteChange)="onFavoriteChange(postIt.document, $event)"
        (remove)="removePostIt(postIt)"
        (changes)="postItChanged(postIt, $event)"></post-it-document>

    </div>

    <label *ngIf="(!hasSingleCollection() || !hasCreateRights()) && !postIts.length"
           class="label-centered"
           i18n="@@document.list.empty">Nothing To Show</label>
  </div>
</div>

<div class="fading loading-text text-center py-5"
     [style.opacity]="infiniteScroll.isLoading() ? 1 : 0"
     i18n="@@documents.post.it.loading">
  Loading...
</div>
