<ng-container *ngFor="let stem of query?.stems; let index = index; trackBy:trackByStem">

  <div class="text-nowrap" *ngIf="collections | collectionById:stem.collectionId as collection">
    <i [style.color]="collection.color" aria-hidden="true" class="{{collection.icon}} fa-fw"></i>&nbsp;
    <b>{{collection.name}}</b>
  </div>

  <pivot-config [pivotData]="config?.mergeTables ? pivotData.data[0] : pivotData.data[index]"
                [stem]="stem"
                [collections]="collections"
                [linkTypes]="linkTypes"
                [config]="config?.stemsConfigs && config?.stemsConfigs[index]"
                (configChange)="onStemConfigChange($event, index)">
  </pivot-config>

</ng-container>
