<table *ngIf="pivotTable$ | async as pivotTable"
       class="table table-bordered">
  <tr *ngFor="let row of pivotTable.cells">

    <ng-container *ngFor="let cell of row">
      <td *ngIf="cell"
          [rowSpan]="cell.rowSpan"
          [colSpan]="cell.colSpan"
          [ngClass]="cell.cssClass"
          [style.background]="cell.background"
          [style.color]="cell.background && (cell.background | contrastColor)">
        {{cell.value}}
      </td>
    </ng-container>
  </tr>
</table>
