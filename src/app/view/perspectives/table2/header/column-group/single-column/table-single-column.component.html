<div (mousedown)="onMouseDown()"
     class="table-border-right table-border-bottom h-100">
  <table-editable-cell *ngIf="attribute"
                       [contextMenu]="contextMenuComponent?.contextMenu"
                       [selected]="selected$ | async"
                       [style.background]="collection | columnBackground:(attribute | attributeNameChanged:lastName)"
                       [value]="attribute | attributeLastName"
                       (valueChange)="onValueChange($event)"
                       (editStart)="onEditStart()"
                       (editEnd)="onEditEnd($event)"
                       class="d-block h-100 font-italic {{cursor | dragClass}}">
  </table-editable-cell>
  <table-attribute-suggestions *ngIf="edited && attribute && !attribute.id && !(attribute | attributeParentName)"
                               [attributeName]="attribute | attributeName:lastName"
                               [collection]="collection"
                               [cursor]="cursor"
                               [table]="table">
  </table-attribute-suggestions>
</div>

<table-column-context-menu #contextMenu
                           *ngIf="attribute && cursor"
                           [attribute]="attribute"
                           [cursor]="cursor"
                           [leaf]="leaf"
                           (add)="onAdd($event)"
                           (edit)="onEdit()"
                           (hide)="onHide()"
                           (remove)="onRemove()"
                           (split)="onSplit()">
</table-column-context-menu>
